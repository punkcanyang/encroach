# Encroach (侵占) - Game Design Document

## 一、核心定位 (Game Identity)

**一句话概念：** 一个你无法直接指挥的族群生态系统；你只能通过建筑与规则影响它，而它可能自己走向繁荣，也可能彻底灭绝。

**主题：** 凸显人类天性中扩张与侵略的本质。扩张是默认行为，没有意图，也没有极限。

---

## 二、核心循环与硬性约束 (Core Loop & Constraints)

### 绝对约束 1：不可控的 Agent
- **玩家绝对不能直接控制人（Agent）**
- 没有移动指令，没有工作分配
- Agent 是自治的，基于自身状态（饥饿、口渴）和环境权重行动

### 绝对约束 2：建筑即规则
- **玩家唯一的输入是「建造」或「升级」建筑**
- 建筑不是功能按钮，而是「改变周围 Agent 行为权重的环境影响场」
- 示例：农田不直接产出食物，而是提高周围 Agent 寻找食物的成功率

### 绝对约束 3：正常的死亡
- **系统崩溃、人口饿死归零是游戏的正常结局，不是 Bug**
- 没有时间压力，真正的挑战来自系统扩张后的自相矛盾

---

## 三、核心系统拆解 (Core Systems)

| 系统 | 职责 |
|------|------|
| **World (世界)** | 唯一真神节点，不发号施令，只负责推进时间（Tick/Day） |
| **Agent (人)** | 遵循「闲置 → 游走 → 发现资源 → 评估 → 开采 → 返回」的状态机循环 |
| **Resource (资源)** | 世界中的具体节点（食物、水、矿物），有储量和采集难度 |
| **Building (建筑)** | 分为「蓝图预设 (Plan)」和「建成实体 (Instance)」。建造受物理空间、族群状态（是否见过某资源）、生存压力等条件约束 |

---

## 四、技术架构与 Vibe Coding 准则

### 引擎
- Godot 4.x (2D, GDScript)

### 流派
- **数据驱动 (Data-Driven)** - 规则和条件判断尽量抽象为配置数据

### 视觉
- 现阶段为极简 MVP，使用基础几何图形
  - 点 = 人
  - 方块 = 建筑
  - 圆圈 = 影响范围
- 不需要任何美术资产
- UI 仅保留纯文字 Log 或简单的资源数字

---

## 五、设计决策记录

| 决策 | 理由 |
|------|------|
| 玩家不可控制 Agent | 强化「系统模拟」而非「策略游戏」的定位 |
| 建筑作为影响场 | 避免传统 RTS 的功能按钮模式，让建筑成为环境的一部分 |
| 接受系统崩溃 | 死亡是游戏循环的自然终点，不是失败条件 |
| 极简视觉 | MVP 阶段聚焦核心机制，不分散精力于美术 |

---

## 六、后续开发优先级

1. **Agent 状态机** - 实现自主行为循环
2. **建筑影响场系统** - 实现权重计算与范围检测
3. **资源系统** - 实现资源储量与采集逻辑
4. **蓝图 → 实体转换** - 实现建造条件评估

---

*本文件为项目最高指导原则，所有后续开发必须严格遵守上述约束。*
